{"version":3,"sources":["components/Pages/Order.js"],"names":["Order","dispatch","useDispatch","navigate","useNavigate","useEffect","localStorage","getItem","token","decode","jwt_decode","fetchOrder","user_id","uid","_id","then","res","data","type","payload","order","useSelector","state","Products","className","map","elem","active_flag","style","border","margin","padding","color","fontSize","fontFamily","backgroundColor","fontWeight","created_at","amount","alldata","products","pdata","Object","keys","src","product_image","base64","height","width","marginRight","to","marginLeft","onClick","id","cancelOrder","console","log","success"],"mappings":"iHAAA,uGAKe,SAASA,IACpB,IAAMC,EAAWC,cACbC,EAAWC,cACfC,qBAAU,WACN,GAAIC,aAAaC,QAAQ,SAAU,CAC/B,IAAIC,EAAQF,aAAaC,QAAQ,SAC7BE,EAASC,YAAWF,GACxBG,YAAW,CAAEC,QAASH,EAAOI,IAAIC,IAAKN,MAAOF,aAAaC,QAAQ,WAAYQ,MAAK,SAAAC,GAC3EA,EAAIC,MACJhB,EAAS,CAAEiB,KAAM,QAASC,QAASH,EAAIC,aAIpD,IACH,IAAMG,EAAQC,aAAY,SAAAC,GAAK,OAAIA,EAAMF,SACnCG,EAAWF,aAAY,SAAAC,GAAK,OAAIA,EAAMC,YAS5C,OACI,sBAAKC,UAAU,YAAf,UACI,oBAAIA,UAAU,OAAd,uBACA,uBACCJ,EAAMK,KAAI,SAAAC,GACP,GAAwB,GAApBA,EAAKC,YACL,OAAO,qBAAKC,MAAO,CAAEC,OAAQ,+BAAgCC,OAAQ,QAA9D,SACH,sBAAKF,MAAO,CAAEG,QAAS,QAAvB,UACI,oBAAIH,MAAO,CAAEI,MAAO,QAApB,0BACA,oBAAGJ,MAAO,CAAEK,SAAU,QAAtB,UAAgC,uBAAML,MAAO,CAAEI,MAAO,QAASD,QAAS,OAAQG,WAAY,QAASC,gBAAiB,QAAtF,uBAA2GT,EAAKZ,IAAhH,IAAqH,sBAAMc,MAAO,CAAEK,SAAU,OAAQD,MAAO,MAAOI,WAAY,QAA3D,eAArH,eAA+MV,EAAKW,cAAkB,uBAAtQ,WAAoR,sBAAMT,MAAO,CAAEQ,WAAY,OAAQJ,MAAO,OAAQC,SAAU,QAA5D,SAAuEP,EAAKY,YAChW,uBACCf,EAASE,KAAI,SAAAc,GAAO,OACjBb,EAAKc,SAASf,KAAI,SAAAgB,GACd,GAAIF,EAAQzB,MAAQ4B,OAAOC,KAAKF,GAAO,GACnC,OAAO,mCACH,qBAAKG,IAAKL,EAAQM,cAAc,GAAGC,OAAQC,OAAO,QAAQC,MAAM,QAAQpB,MAAO,CAAEqB,YAAa,kBAK9G,uBACA,cAAC,IAAD,CAAMC,GAAE,mBAAcxB,EAAKZ,KAAOU,UAAU,uBAA5C,0BACA,wBAAQI,MAAO,CAACuB,WAAW,QAASC,QAAS,kBA9B5CC,EA8BkE3B,EAAKZ,SA7B5FwC,YAAY,CAAE1C,QAASyC,EAAI7C,MAAOF,aAAaC,QAAQ,WAAYQ,MAAK,SAAAC,GACpEuC,QAAQC,IAAIxC,EAAIC,MACZD,EAAIC,KAAKwC,SACTtD,EAAS,QAJG,IAACkD,GA8B6E7B,UAAU,uBAAxF","file":"static/js/17.33fc4591.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { fetchOrder, cancelOrder } from '../../config/Myservices'\r\nimport { Link, useNavigate } from 'react-router-dom'\r\nimport jwt_decode from \"jwt-decode\"\r\nexport default function Order() {\r\n    const dispatch = useDispatch();\r\n    let navigate = useNavigate()\r\n    useEffect(() => {\r\n        if (localStorage.getItem(\"token\")) {\r\n            let token = localStorage.getItem(\"token\")\r\n            var decode = jwt_decode(token);\r\n            fetchOrder({ user_id: decode.uid._id, token: localStorage.getItem('token') }).then(res => {\r\n                if (res.data) {\r\n                    dispatch({ type: \"ORDER\", payload: res.data })\r\n                }\r\n            })\r\n        }\r\n    }, [])\r\n    const order = useSelector(state => state.order)\r\n    const Products = useSelector(state => state.Products)\r\n    const cancelOrderFunc = (id) => {\r\n        cancelOrder({ user_id: id, token: localStorage.getItem('token') }).then(res => {\r\n            console.log(res.data);\r\n            if (res.data.success) {\r\n                navigate(\"/\")\r\n            }\r\n        })\r\n    }\r\n    return (\r\n        <div className=\"container\">\r\n            <h2 className=\"mt-3\">My Orders</h2>\r\n            <hr />\r\n            {order.map(elem => {\r\n                if (elem.active_flag == true) {\r\n                    return <div style={{ border: \"1px solid rgb(222, 217, 217)\", margin: \"10px\" }}>\r\n                        <div style={{ padding: \"10px\" }}>\r\n                            <h3 style={{ color: \"gray\" }}>Order Placed</h3>\r\n                            <p style={{ fontSize: \"18px\" }}><span style={{ color: \"white\", padding: \"10px\", fontFamily: \"arial\", backgroundColor: \"blue\" }}>Order Id: {elem._id} <span style={{ fontSize: \"28px\", color: \"red\", fontWeight: \"bold\" }}>/</span> Placed on: {elem.created_at}</span><br />Amount: <span style={{ fontWeight: \"bold\", color: \"blue\", fontSize: \"20px\" }}>{elem.amount}</span></p>\r\n                            <hr />\r\n                            {Products.map(alldata => (\r\n                                elem.products.map(pdata => {\r\n                                    if (alldata._id === Object.keys(pdata)[0]) {\r\n                                        return <>\r\n                                            <img src={alldata.product_image[0].base64} height=\"100px\" width=\"100px\" style={{ marginRight: \"15px\" }} />\r\n                                        </>\r\n                                    }\r\n                                })\r\n                            ))}\r\n                            <hr />\r\n                            <Link to={`/invoice/${elem._id}`} className=\"btn btn-outline-dark\">View Invoice</Link>\r\n                            <button style={{marginLeft:\"10px\"}} onClick={() => cancelOrderFunc(elem._id)} className=\"btn btn-outline-dark\">Cancel Order</button>\r\n                        </div>\r\n                    </div>\r\n                }\r\n            })}\r\n        </div>\r\n    )\r\n}\r\n"],"sourceRoot":""}